import{i as n,a as u,d as e,g as _,k as d,v as p,t as c,j as b,l as y,o as m}from"./index-DBsiBDwH.js";import{p as g}from"./posts-C16AqYlU.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"post-create"},k={class:"form-group"},w={class:"form-group"},B={key:0,class:"error-message"},C={class:"form-actions"},V=["disabled"],P={__name:"PostCreate",setup(S){const i=y(),o=n({title:"",content:""}),a=n(!1),r=n(""),v=async()=>{var l,t;a.value=!0,r.value="";try{const s=await g.create(o.value);i.push(`/posts/${s.data.post.id}`)}catch(s){r.value=((t=(l=s.response)==null?void 0:l.data)==null?void 0:t.message)||"게시글 작성에 실패했습니다."}finally{a.value=!1}},f=()=>{i.push("/posts")};return(l,t)=>(m(),u("div",x,[t[4]||(t[4]=e("h2",null,"게시글 작성",-1)),e("form",{onSubmit:b(v,["prevent"])},[e("div",k,[t[2]||(t[2]=e("label",{for:"title"},"제목",-1)),d(e("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=s=>o.value.title=s),required:"",maxlength:"200",placeholder:"제목을 입력하세요"},null,512),[[p,o.value.title]])]),e("div",w,[t[3]||(t[3]=e("label",{for:"content"},"내용",-1)),d(e("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=s=>o.value.content=s),required:"",rows:"15",placeholder:"내용을 입력하세요"},null,512),[[p,o.value.content]])]),r.value?(m(),u("div",B,c(r.value),1)):_("",!0),e("div",C,[e("button",{type:"submit",class:"btn btn-primary",disabled:a.value},c(a.value?"작성 중...":"작성하기"),9,V),e("button",{type:"button",onClick:f,class:"btn btn-secondary"}," 취소 ")])],32)]))}},M=h(P,[["__scopeId","data-v-98a38e84"]]);export{M as default};
